<app-header-autorizado></app-header-autorizado>
<app-sidebar-autorizado (sidebarExpandido)="sidebarExpandido = $event"></app-sidebar-autorizado>

<div class="containers container-first primarySections" [class.colapsado]="!sidebarExpandido"
  *ngIf="informacionUsuario">
  <h2 class="titulo-configuracion">Configuración Usuario</h2>
  <hr class="separator" />
  <p class="descripcion-configuracion">
    Ajusta tu perfil y preferencias en HackerMaster. Desde aquí, puedes modificar tu información personal,
    cambiar tu contraseña y personalizar tu experiencia en la plataforma.
  </p>

  <!-- Sección imagen de perfil -->
  <div class="seccion-perfil">
    <div class="imagen-perfil-config">
      <img [src]="informacionUsuario.usuario.fotoPerfil" alt="Foto de perfil" class="foto-perfil-config" />

      <!-- Input file -->
      <label for="inputFotoPerfil" class="btn-actualizar-foto">
        Actualizar Foto
        <input type="file" id="inputFotoPerfil" accept="image/png, image/jpeg" hidden
          (change)="onFotoSeleccionada($event)" />
      </label>
    </div>

    <div class="info-foto-perfil">
      <p>
        Se admiten imágenes en formato <strong>JPG</strong>, <strong>PNG</strong>, con un tamaño máximo de
        <strong>5MB</strong>. Asegúrate de que la imagen sea clara y adecuada, ya que será visible en tu perfil público.
      </p>
    </div>
  </div>

  <!-- Contenedor para modificar datos del usuario -->
  <div class="secondarySections seccion-formulario">
    <h3>Información del Perfil</h3>
    <hr class="linea-blanca" />
    <p class="descripcion-formulario">
      Actualiza tu información personal para mantener tu perfil al día. Asegúrate de guardar los cambios antes de salir.
    </p>

    <form class="form-dos-columnas">
      <div class="columna">
        <div class="form-group">
          <label for="nombre">Nombre Usuario</label>
          <input type="text" [value]="informacionUsuario.usuario.username" id="nombre" name="nombre"
            class="form-control" />
        </div>

        <div class="form-group">
          <label for="email">Correo Electrónico</label>
          <input type="email" [value]="informacionUsuario.usuario.email" id="email" name="email" class="form-control" />
        </div>

        <div class="form-group">
          <label for="pais">País</label>
          <input type="text" id="pais" [value]="informacionUsuario.usuario.pais" name="pais" class="form-control" />
        </div>
      </div>

      <div class="columna">
        <div class="form-group">
          <label for="fechaNacimiento">Fecha de Nacimiento</label>
          <input type="date" [value]="informacionUsuario.usuario.fechaNacimiento" id="fechaNacimiento"
            name="fechaNacimiento" class="form-control" />
        </div>

        <div class="form-group">
          <label for="telefono">Teléfono</label>
          <input type="tel" id="telefono" name="telefono" [value]="informacionUsuario.usuario.telefono"
            class="form-control" />
        </div>
      </div>

      <div class="form-boton">
        <button type="submit" class="btn-guardar">Actualizar</button>
      </div>
    </form>
  </div>

  <!-- Contenedor para cambiar contraseña -->
  <div class="secondarySections seccion-formulario passwordForm">
    <h3>Cambiar Contraseña</h3>
    <hr class="linea-blanca" />
    <p class="descripcion-formulario">Protege tu cuenta cambiando tu contraseña regularmente. Ingresa tu contraseña
      actual y establece una nueva para mantener tu perfil seguro.</p>
    <form class="form-password">
      <div class="form-group">
        <label for="contrasenaActual">Contraseña Actual</label>
        <input type="password" id="contrasenaActual" name="contrasenaActual" class="form-control" />
      </div>

      <div class="form-group">
        <label for="nuevaContrasena">Nueva Contraseña</label>
        <input type="password" id="nuevaContrasena" name="nuevaContrasena" class="form-control" />
      </div>

      <div class="form-group">
        <label for="confirmarContrasena">Confirmar Nueva Contraseña</label>
        <input type="password" id="confirmarContrasena" name="confirmarContrasena" class="form-control" />
      </div>

      <button type="submit" class="btn-guardar-password">Actualizar Contraseña</button>
    </form>
  </div>
</div>